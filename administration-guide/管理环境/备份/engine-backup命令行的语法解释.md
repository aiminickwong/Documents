# engine-backup 命令行的语法解释

**engine-backup** 命令行有两个基本模式：

```
# engine-backup --mode=backup
```

```
# engine-backup --mode=restore
```

这两种模式可以通过使用一系列参数，允许您指定备份的范围和不同的 engine 数据库证书。完整的参数列表及其功能如下：

**备份选项**

***--mode***

  指定这个命令执行备份操作或恢复操作。有两个可用选项 -- **backup** 和 **restore**。这是一个必需的参数。

***--file***

  在备份模式中，指定备份文件的路径和文件名，在恢复模式中，指定所要恢复的备份文件的路径和文件名。这个参数在备份模式和恢复模式下都是一个必需的参数。

***--log***

  指定执行备份或恢复操作时记录日志的路径和文件名。这个参数在备份模式和恢复模式下都是一个必需的参数。

***--scope***

  指定备份或恢复操作的范围，有两个选项：

  * **all**：备份数据库和配置数据。
  * **db**：仅备份数据库。

**数据库选项**

下列选项只有在使用 **engine-backup** 命令的 **restore** 模式才可用。

***--change-db-credentials***

  允许指定恢复 engine 数据库所使用的证书，而不使用备份时所存储的证书。指定了这个参数以后，可以添加以下参数。

***--db-host***

  指定存放数据库的主机的 FQDN。这是一个必需的参数。

***--db-port***

  指定创建数据库连接所使用的端口。

***--db-user***

  指定创建数据库连接时所使用的用户名称。这时一个必需的参数。

***--db-passfile***

  指定一个创建数据库连接时所使用的包含密码的文件。这个参数和 ***--db-password*** 必须指定其中一个。

***--db-password***

  指定创建数据库连接时所使用的纯文本的密码。这个参数和 ***--db-passfile*** 必须指定其中一个。

***--db-name***

  指定要恢复的数据库的名称。这是一个必需的参数。

***--db-secured***

  指定连接的主机需要验证。

**帮助信息**

***--help***

  提供一些信息的预览，包括可用的模式、参数，简单的使用方法，如何创建一个新的数据库以及在备份和恢复时如何配置 EayunOS 虚拟化管理中心的防火墙等。

